<head><script type="module">import*as e from'https://testingcf.jsdelivr.net/npm/pinia/+esm';var t={35:(t,a,l)=>{t.exports=(e=>{var t={};return l.d(t,e),t})({createPinia:()=>e.createPinia,defineStore:()=>e.defineStore})},42:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}},61:e=>{e.exports=Vue},144:(e,t,a)=>{a.d(t,{default:()=>_}),a.r(t);var l=a(61),o=a(376);const s={class:'status-container'},n={class:'status-content'},c={class:'status-item progress-item'},r={class:'status-label'},i={key:0,class:'reason-text'},d={class:'progress-container'},m={class:'progress-bar'},u={class:'progress-text'},v={class:'stage-indicator'},p={class:'status-item progress-item'},g={class:'status-label'},f={key:0,class:'reason-text'},E={class:'progress-container'},N={class:'progress-bar'},h={class:'progress-text'},V={class:'stage-indicator'},y=(0,l.defineComponent)({__name:'状态界面',setup(e){const t=(0,o.x)(),a=(0,l.ref)(0),y=(0,l.ref)(0),k=(0,l.ref)(''),b=(0,l.ref)(''),B=[{min:0,max:50,name:'心如止水',className:'stage-calm'},{min:51,max:100,name:'焦躁不安',className:'stage-anxious'},{min:101,max:160,name:'欲火焚身',className:'stage-craving'},{min:161,max:199,name:'煎熬难忍',className:'stage-critical'},{min:200,max:200,name:'崩溃决堤',className:'stage-breakdown'}],S=[{min:0,max:0,name:'纯洁无瑕',className:'stage-calm'},{min:1,max:60,name:'挣扎与罪恶',className:'stage-guilt'},{min:61,max:180,name:'沉沦与合理化',className:'stage-rationalization'},{min:181,max:280,name:'背叛与重塑',className:'stage-betrayal'},{min:281,max:300,name:'新的平衡',className:'stage-new-balance'}],C=e=>B.find(t=>e>=t.min&&e<=t.max)||B[0],x=e=>S.find(t=>e>=t.min&&e<=t.max)||S[0];return(0,l.watch)([()=>t.stat_data],()=>{a.value=t.stat_data?.角色?.user?.特殊状态?.性压抑值,y.value=t.stat_data?.角色?.user?.特殊状态?.恶堕值,k.value=t.stat_data?.角色?.user?.特殊状态?.性压抑值变化原因,b.value=t.stat_data?.角色?.user?.特殊状态?.恶堕值变化原因},{immediate:!0}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',s,[t[2]||(t[2]=(0,l.createElementVNode)('h2',{class:'page-title'},'人物状态',-1)),(0,l.createElementVNode)('div',n,[(0,l.createElementVNode)('div',c,[(0,l.createElementVNode)('div',r,[t[0]||(t[0]=(0,l.createTextVNode)('压抑值 ',-1)),k.value?((0,l.openBlock)(),(0,l.createElementBlock)('span',i,'('+(0,l.toDisplayString)(k.value)+')',1)):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',d,[(0,l.createElementVNode)('div',m,[(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['progress-fill depression',C(a.value).className]),style:(0,l.normalizeStyle)({width:a.value/2+'%'})},null,6)]),(0,l.createElementVNode)('div',u,(0,l.toDisplayString)(a.value),1)]),(0,l.createElementVNode)('div',v,(0,l.toDisplayString)(C(a.value).name),1)]),(0,l.createElementVNode)('div',p,[(0,l.createElementVNode)('div',g,[t[1]||(t[1]=(0,l.createTextVNode)('恶堕值 ',-1)),b.value?((0,l.openBlock)(),(0,l.createElementBlock)('span',f,'('+(0,l.toDisplayString)(b.value)+')',1)):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',E,[(0,l.createElementVNode)('div',N,[(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['progress-fill corruption',x(y.value).className]),style:(0,l.normalizeStyle)({width:y.value/3+'%'})},null,6)]),(0,l.createElementVNode)('div',h,(0,l.toDisplayString)(y.value),1)]),(0,l.createElementVNode)('div',V,(0,l.toDisplayString)(x(y.value).name),1)])])]))}});const _=(0,a(42).A)(y,[['__scopeId','data-v-050dd72e']])},172:(e,t,a)=>{a.d(t,{default:()=>_}),a.r(t);var l=a(61),o=a(376),s=a(798);const n={class:'diary-container'},c={class:'header-row'},r={class:'lock-control'},i={class:'lock-switch',title:'启用后将不会自动切换形态,建议使用后等待一小会,确保数据正确写入'},d={class:'mood-section'},m={class:'mood-header'},u={class:'mood-value'},v={class:'mood-bar'},p={class:'mood-info'},g={class:'mood-reason'},f={class:'mood-form'},E={class:'diary-content'},N={key:0,class:'diary-entry'},h={class:'entry-date'},V={class:'entry-text'},y={key:1,class:'no-diary'},k=(0,l.defineComponent)({__name:'多多日记',setup(e){const t=(0,o.x)(),a=(0,s.o)(),k=(0,l.ref)(''),b=(0,l.ref)(''),B=(0,l.ref)(0),S=(0,l.ref)(60),C=(0,l.ref)('无'),x=(0,l.ref)(!0),D=(0,l.ref)(!1),M=(0,l.computed)(()=>Math.max(0,Math.min(300,100*S.value/300))),w=(0,l.computed)(()=>S.value>260?'mood-excellent':S.value>160?'mood-good':S.value>90?'mood-normal':S.value>10?'mood-poor':'mood-bad');function I(){try{const e=/<duoduo>((?:(?!<duoduo>)[\s\S])*?)<\/duoduo>(?![\s\S]*<duoduo>[\s\S]*<\/duoduo>)/,l=a.message.match(e);l&&l[1]?k.value=l[1].trim():k.value='',function(){try{const e=t.stat_data?.世界.日期,a=t.stat_data?.世界.时间;b.value=e&&a?`${e} ${a}`:e||(a||'未知时间')}catch(e){console.error('获取MVU日期时间失败:',e),b.value='未知时间'}}()}catch(e){console.error('获取日记内容失败:',e),k.value=''}}function L(){B.value++}return(0,l.watch)(()=>t.stat_data,()=>{I(),function(){try{const e=t.stat_data?.角色?.多多?.特殊状态;e&&(S.value=e.心情值,C.value=e.心情值变化原因||'无',x.value=!0===e.猫形态,D.value=t.stat_data?.系统设置?.锁定多多形态)}catch(e){console.error('获取心情值数据失败:',e)}}()},{immediate:!0,deep:!0}),(0,l.watch)(D,e=>{try{e?(eventEmit('era:updateByObject',{系统设置:{锁定多多形态:e}}),toastr.info('正在锁定形态,建议你等上一小会')):(eventEmit('era:updateByObject',{系统设置:{锁定多多形态:e}}),toastr.info('正在解锁形态,建议你等上一小会'))}catch(e){toastr.error('切换锁定状态失败','error'),console.error('切换锁定状态失败:',e)}}),(0,l.onActivated)(()=>{L()}),(0,l.onMounted)(()=>{L()}),(0,l.onUnmounted)(()=>{B.value=0}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',n,[(0,l.createElementVNode)('div',c,[t[3]||(t[3]=(0,l.createElementVNode)('h2',{class:'page-title'},'多多日记',-1)),(0,l.createElementVNode)('div',r,[(0,l.createElementVNode)('label',i,[(0,l.withDirectives)((0,l.createElementVNode)('input',{type:'checkbox','onUpdate:modelValue':t[0]||(t[0]=e=>D.value=e)},null,512),[[l.vModelCheckbox,D.value]]),t[1]||(t[1]=(0,l.createElementVNode)('span',{class:'slider'},null,-1))]),t[2]||(t[2]=(0,l.createElementVNode)('small',{class:'lock-hint'},'锁定形态',-1))])]),(0,l.createCommentVNode)(' 心情值显示 '),(0,l.createElementVNode)('div',d,[(0,l.createElementVNode)('div',m,[t[4]||(t[4]=(0,l.createElementVNode)('span',{class:'mood-label'},'当前心情',-1)),(0,l.createElementVNode)('span',u,(0,l.toDisplayString)(S.value),1)]),(0,l.createElementVNode)('div',v,[(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['mood-fill',w.value]),style:(0,l.normalizeStyle)({width:M.value+'%'})},null,6)]),(0,l.createElementVNode)('div',p,[(0,l.createElementVNode)('span',g,(0,l.toDisplayString)(C.value||'暂无心情变化记录'),1),(0,l.createElementVNode)('span',f,(0,l.toDisplayString)(x.value?'猫':'猫娘'),1)])]),(0,l.createElementVNode)('div',E,[k.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',N,[(0,l.createElementVNode)('h3',h,(0,l.toDisplayString)(b.value),1),(0,l.createElementVNode)('p',V,(0,l.toDisplayString)(k.value),1)])):((0,l.openBlock)(),(0,l.createElementBlock)('div',y,[...t[5]||(t[5]=[(0,l.createElementVNode)('p',null,'暂无日记内容',-1)])]))]),(0,l.createCommentVNode)(' 落叶特效 - 使用 key 强制重新创建 '),((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:B.value,class:'falling-leaves'},[...t[6]||(t[6]=[(0,l.createStaticVNode)('<div class="leaf leaf-1" data-v-3e4b02f3>🍂</div><div class="leaf leaf-2" data-v-3e4b02f3>🍁</div><div class="leaf leaf-3" data-v-3e4b02f3>🍂</div><div class="leaf leaf-4" data-v-3e4b02f3>🍁</div><div class="leaf leaf-5" data-v-3e4b02f3>🍂</div><div class="leaf leaf-6" data-v-3e4b02f3>🍁</div><div class="leaf leaf-7" data-v-3e4b02f3>🍂</div><div class="leaf leaf-8" data-v-3e4b02f3>🍁</div>',8)])]))]))}});const _=(0,a(42).A)(k,[['__scopeId','data-v-3e4b02f3']])},217:(e,t,a)=>{a.d(t,{default:()=>_}),a.r(t);var l=a(61),o=a(376);const s={class:'world-info-container'},n={class:'info-content'},c={class:'info-section'},r={class:'info-item time-item'},i={class:'info-value'},d={class:'info-item location-item'},m={class:'info-value'},u={class:'info-item character-item'},v={class:'info-value'},p=(0,l.defineComponent)({__name:'世界信息',setup(e){const t=(0,o.x)(),a=(0,l.ref)(''),p=(0,l.ref)(''),g=(0,l.ref)(''),f=(0,l.ref)(''),E=(0,l.computed)(()=>a.value||p.value?a.value&&p.value?`${a.value} ${p.value}`:a.value||p.value:'未知时间');return(0,l.watch)([()=>t.stat_data?.世界?.日期,()=>t.stat_data?.世界?.时间,()=>t.stat_data?.世界?.地点,()=>t.stat_data?.世界?.当前人物],([e,t,l,o])=>{a.value=e||'未知日期',p.value=t||'未知时间',g.value=l||'未知地点',f.value=o||'无'},{immediate:!0}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',s,[t[3]||(t[3]=(0,l.createElementVNode)('h2',{class:'page-title'},'世界信息',-1)),(0,l.createElementVNode)('div',n,[(0,l.createElementVNode)('div',c,[(0,l.createElementVNode)('div',r,[t[0]||(t[0]=(0,l.createElementVNode)('div',{class:'info-label'},'时间',-1)),(0,l.createElementVNode)('div',i,(0,l.toDisplayString)(E.value),1)]),(0,l.createElementVNode)('div',d,[t[1]||(t[1]=(0,l.createElementVNode)('div',{class:'info-label'},'地点',-1)),(0,l.createElementVNode)('div',m,(0,l.toDisplayString)(g.value),1)]),(0,l.createElementVNode)('div',u,[t[2]||(t[2]=(0,l.createElementVNode)('div',{class:'info-label'},'当前人物',-1)),(0,l.createElementVNode)('div',v,(0,l.toDisplayString)(f.value),1)])])])]))}});const _=(0,a(42).A)(p,[['__scopeId','data-v-22d0fc5e']])},376:(e,t,a)=>{a.d(t,{x:()=>n});var l=a(35),o=a(61);const s=()=>{const e=getVariables({type:'chat'}).ERAMetaData.EditLogs,t=(()=>{const e=getCurrentMessageId(),t=getChatMessages(e);return t&&0!==t.length?String(t[0].message):''})().match(/"era-message-key"="([^"]+)"/);if(t){const a=t[1];if(a&&e[a]){console.log(`正在加载位于第${getCurrentMessageId()}楼层的旧数据`);const t=function(e){if(!Array.isArray(e))return{};const t={};for(const a of e){const e=a.path.split('.');let l=t;for(let t=0;t<e.length-1;t++){const a=e[t];l[a]&&'object'==typeof l[a]||(l[a]={}),l=l[a]}l[e[e.length-1]]=a.value_new}return t}(JSON.parse(e[a]));return console.log('旧数据',t),t}}return console.error(`未找到位于第${getCurrentMessageId()}楼层的旧数据`),null};const n=(0,l.defineStore)('stat',()=>{const e=(0,o.ref)(),t=t=>{getCurrentMessageId()<getLastMessageId()-1||(e.value=t.stat,toastr.success('已获取最新数据'),console.log('Stat data updated:',e.value))};return{stat_data:e,initData:()=>{if(getCurrentMessageId()<getLastMessageId()-10)return console.log(`正在加载位于第${getCurrentMessageId()}楼层的旧数据`),void console.log('楼层过深,停止加载');getCurrentMessageId()<getLastMessageId()-1?e.value=e.value=s():e.value=getVariables({type:'chat'}).stat_data,console.log(`loading stat_data at #${getCurrentMessageId()}`,e.value)},registerListener:()=>{eventOn('era:writeDone',t)}}})},753:(e,t,a)=>{a.d(t,{default:()=>_}),a.r(t);var l=a(61),o=a(376);const s={class:'character-status-layout'},n={class:'stars-background'},c={class:'character-switcher'},r=['onClick'],i={class:'button-icon'},d={key:0},m={key:1},u={key:2},v={class:'button-text'},p={class:'character-cards-container'},g={class:'card-header'},f={class:'character-name'},E={class:'character-icon'},N={key:0},h={key:1},V={key:2},y={class:'status-section clothing-section'},k=['onClick'],b={class:'clothing-grid'},B={class:'clothing-type'},S={class:'clothing-value'},C={class:'status-section'},x={class:'body-status-grid'},D={class:'body-part'},M={class:'body-value'},w={class:'status-section'},I={class:'thoughts-content'},L=(0,l.defineComponent)({__name:'角色状态',setup(e){const t=(0,l.ref)('user'),a=(0,l.ref)({user:!1,多多:!1,何茉茉:!1}),L=(0,l.ref)({user:{clothing:{上半身:'',下半身:'',内衣:'',袜子:'',鞋子:'',配饰:''},bodyStatus:{阴茎:'正常下垂'},thoughts:'无'},多多:{specialStatus:{当前形态:'猫'},clothing:{上半身:'',下半身:'',内衣:'',袜子:'',鞋子:'',配饰:''},bodyStatus:{小穴:'干燥紧闭',菊穴:'未开发',口穴:'未开发'},thoughts:'无'},何茉茉:{clothing:{上半身:'',下半身:'',内衣:'',袜子:'',鞋子:'',配饰:''},bodyStatus:{小穴:'干燥紧闭',菊穴:'未开发',口穴:'未开发'},thoughts:'无'}}),A=(0,l.ref)([]);let O=null;const P=e=>({上半身:'上衣',下半身:'下装',内衣:'内衣',袜子:'袜子',鞋子:'鞋子',配饰:'配饰'}[e]||e),j=e=>({小穴:'小穴',阴茎:'阴茎',菊穴:'菊穴',口穴:'口穴'}[e]||e),F=(0,o.x)();return(0,l.watch)(()=>F.stat_data,()=>{(()=>{const e=F.stat_data;e&&e.角色&&Object.keys(e.角色).forEach(t=>{const a=t;if(a in L.value){const t=L.value[a],l=e.角色[a];l.服装&&(t.clothing={...l.服装}),l.身体状态&&(t.bodyStatus={...l.身体状态}),l.当前想法&&(t.thoughts=l.当前想法)}})})()},{deep:!0,immediate:!0}),(0,l.onMounted)(()=>{(()=>{A.value=[];for(let e=0;e<50;e++)A.value.push({id:e,style:{left:100*Math.random()+'%',top:100*Math.random()+'%',animationDelay:5*Math.random()+'s',animationDuration:3+4*Math.random()+'s'}})})(),O=window.setInterval(()=>{A.value.forEach(e=>{e.style.animationDuration=3+4*Math.random()+'s'})},5e3)}),(0,l.onUnmounted)(()=>{O&&clearInterval(O)}),(e,o)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',s,[(0,l.createCommentVNode)(' 星星背景特效 '),(0,l.createElementVNode)('div',n,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(A.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.id,class:'star',style:(0,l.normalizeStyle)(e.style)},null,4))),128))]),(0,l.createCommentVNode)(' 角色切换按钮 '),(0,l.createElementVNode)('div',c,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(L.value,(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:a,class:(0,l.normalizeClass)(['switch-button',{active:t.value===a}]),onClick:e=>(e=>{t.value=e})(a)},[(0,l.createElementVNode)('span',i,['多多'===a&&'猫'===e.specialStatus?.当前形态?((0,l.openBlock)(),(0,l.createElementBlock)('span',d,'🐱')):'user'===a?((0,l.openBlock)(),(0,l.createElementBlock)('span',m,'👤')):((0,l.openBlock)(),(0,l.createElementBlock)('span',u,'🐈‍⬛'))]),(0,l.createElementVNode)('span',v,(0,l.toDisplayString)(a),1)],10,r))),128))]),(0,l.createCommentVNode)(' 角色状态卡片 '),(0,l.createElementVNode)('div',p,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(L.value,(e,s)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:s,class:(0,l.normalizeClass)(['character-card',{active:t.value===s}])},[(0,l.createElementVNode)('div',g,[(0,l.createElementVNode)('h2',f,(0,l.toDisplayString)(s),1),(0,l.createElementVNode)('div',E,['多多'===s&&'猫'===e.specialStatus?.当前形态?((0,l.openBlock)(),(0,l.createElementBlock)('span',N,'🐱')):'user'===s?((0,l.openBlock)(),(0,l.createElementBlock)('span',h,'👤')):((0,l.openBlock)(),(0,l.createElementBlock)('span',V,'🐈‍⬛'))])]),(0,l.createCommentVNode)(' 服装信息 - 可展开/收起 '),(0,l.createElementVNode)('div',y,[(0,l.createElementVNode)('div',{class:'section-header',onClick:e=>(e=>{a.value[e]=!a.value[e]})(s)},[o[1]||(o[1]=(0,l.createElementVNode)('h3',{class:'section-title'},'服装',-1)),(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['expand-icon',{expanded:a.value[s]}])},[...o[0]||(o[0]=[(0,l.createElementVNode)('span',null,'▼',-1)])],2)],8,k),(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['clothing-content',{expanded:a.value[s]}])},[(0,l.createElementVNode)('div',b,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.clothing,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:t,class:'clothing-item'},[(0,l.createElementVNode)('span',B,(0,l.toDisplayString)(P(t))+'：',1),(0,l.createElementVNode)('span',S,(0,l.toDisplayString)(e||'无'),1)]))),128))])],2)]),(0,l.createCommentVNode)(' 身体状态 '),(0,l.createElementVNode)('div',C,[o[2]||(o[2]=(0,l.createElementVNode)('h3',{class:'section-title'},'身体状态',-1)),(0,l.createElementVNode)('div',x,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(e.bodyStatus,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:t,class:'body-status-item'},[(0,l.createElementVNode)('span',D,(0,l.toDisplayString)(j(t))+'：',1),(0,l.createElementVNode)('span',M,(0,l.toDisplayString)(e),1)]))),128))])]),(0,l.createCommentVNode)(' 当前想法 '),(0,l.createElementVNode)('div',w,[o[3]||(o[3]=(0,l.createElementVNode)('h3',{class:'section-title'},'当前想法',-1)),(0,l.createElementVNode)('div',I,(0,l.toDisplayString)(e.thoughts||'无'),1)])],2))),128))])]))}});const _=(0,a(42).A)(L,[['__scopeId','data-v-6596af42']])},798:(e,t,a)=>{a.d(t,{o:()=>s});var l=a(35),o=a(61);const s=(0,l.defineStore)('message',()=>{const e=(0,o.ref)(''),t=()=>{const t=getCurrentMessageId(),a=getChatMessages(t);a&&0!==a.length||(e.value=''),e.value=String(a[0].message)};return{message:e,getMessage:t,registerListener:()=>{eventOn('era:writeDone',t)}}})}},a={};function l(e){var o=a[e];if(void 0!==o)return o.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,l),s.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})};var o=l(61);var s=l(42);const n={},c=(0,s.A)(n,[['render',function(e,t){const a=(0,o.resolveComponent)('RouterView');return(0,o.openBlock)(),(0,o.createBlock)(a)}]]),r=VueRouter;var i=l(798);const d={class:'nav-buttons'},m=['onClick'],u={class:'nav-icon'},v={class:'nav-text'},p={class:'main-content'},g={class:'options-wrapper'},f={class:'options-content'},E=['onClick'],N={key:0,class:'autumn-leaves'},h=(0,o.defineComponent)({__name:'layout',setup(e){const t=(0,r.useRoute)(),a=(0,r.useRouter)(),l=[{path:'/状态界面',name:'人物状态',icon:'👤'},{path:'/世界信息',name:'世界信息',icon:'🌍'},{path:'/多多日记',name:'多多日记',icon:'📖'},{path:'/角色状态',name:'角色状态',icon:'♥️'}],s=(0,o.computed)(()=>'/多多日记'===t.path),n=(0,o.ref)(!1),c=(0,o.ref)(!0),h=(0,o.ref)([]),V=()=>{c.value=!c.value},y=(0,i.o)(),k=()=>{const e=(e=>{try{const t=/<options>([\s\S]*?)<\/options>/,a=e.match(t);if(a&&a[1]){n.value=!0;const e=a[1].trim(),t=/<op>(.*?)<\/op>/g,l=[];let o;for(;null!==(o=t.exec(e));)l.push(o[1].trim());return l}n.value=!1}catch(e){console.error('解析选项失败:',e)}return[]})(y.message);h.value=e,n.value=e.length>0};return(0,o.watch)(()=>y.message,()=>k(),{immediate:!0}),(e,r)=>{const i=(0,o.resolveComponent)('router-view');return(0,o.openBlock)(),(0,o.createElementBlock)('div',{class:(0,o.normalizeClass)(['app-layout',{'autumn-theme':s.value}])},[(0,o.createCommentVNode)(' 导航栏 '),(0,o.createElementVNode)('nav',{class:(0,o.normalizeClass)(['navigation-bar',{'autumn-nav':s.value}])},[(0,o.createElementVNode)('div',d,[((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(l,e=>(0,o.createElementVNode)('button',{key:e.path,class:(0,o.normalizeClass)(['nav-button',{active:(0,o.unref)(t).path===e.path,'autumn-button':s.value}]),onClick:t=>{return l=e.path,void a.push(l);var l}},[(0,o.createElementVNode)('span',u,(0,o.toDisplayString)(e.icon),1),(0,o.createElementVNode)('span',v,(0,o.toDisplayString)(e.name),1)],10,m)),64))])],2),(0,o.createCommentVNode)(' 主内容区域 '),(0,o.createElementVNode)('main',p,[(0,o.createVNode)(i)]),(0,o.createCommentVNode)(' 选项框 '),(0,o.withDirectives)((0,o.createElementVNode)('div',{class:(0,o.normalizeClass)(['options-panel',{collapsed:c.value}])},[(0,o.createElementVNode)('div',{class:'options-header',onClick:V},[r[0]||(r[0]=(0,o.createElementVNode)('span',{class:'options-title'},'选项',-1)),(0,o.createElementVNode)('span',{class:(0,o.normalizeClass)(['options-toggle',{autumn:s.value}])},(0,o.toDisplayString)(c.value?'展开':'收起'),3)]),(0,o.createElementVNode)('div',g,[(0,o.createElementVNode)('div',f,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(h.value,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:t,class:'option-item',onClick:t=>(e=>{const t=window.parent.document.querySelector('#send_textarea');if(t){const a=t.value.trim();t.value=a?`${a} ${e}`:e,t.dispatchEvent(new Event('input',{bubbles:!0})),t.focus()}else console.warn('未找到SillyTavern输入框 #send_textarea'),createChatMessages([{role:'user',message:e}])})(e)},(0,o.toDisplayString)(e),9,E))),128))])])],2),[[o.vShow,n.value]]),(0,o.createCommentVNode)(' 秋天落叶背景效果 '),s.value?((0,o.openBlock)(),(0,o.createElementBlock)('div',N,[...r[1]||(r[1]=[(0,o.createStaticVNode)('<div class="leaf leaf-1" data-v-1d77f9a2>🍂</div><div class="leaf leaf-2" data-v-1d77f9a2>🍁</div><div class="leaf leaf-3" data-v-1d77f9a2>🍂</div><div class="leaf leaf-4" data-v-1d77f9a2>🍁</div><div class="leaf leaf-5" data-v-1d77f9a2>🍂</div><div class="leaf leaf-6" data-v-1d77f9a2>🍁</div>',6)])])):(0,o.createCommentVNode)('v-if',!0)],2)}}}),V=(0,s.A)(h,[['__scopeId','data-v-1d77f9a2']]),y=(0,r.createRouter)({history:(0,r.createMemoryHistory)(),routes:[{path:'/',component:V,redirect:'/状态界面',children:[{path:'/状态界面',component:()=>Promise.resolve().then(l.bind(l,144))},{path:'/世界信息',component:()=>Promise.resolve().then(l.bind(l,217))},{path:'/多多日记',component:()=>Promise.resolve().then(l.bind(l,172))},{path:'/角色状态',component:()=>Promise.resolve().then(l.bind(l,753))}]}]});var k=l(35),b=l(376);const B=(0,k.createPinia)(),S=(0,o.createApp)(c);S.use(B),S.use(y),S.mount('#app'),(0,b.x)().registerListener(),(0,i.o)().registerListener(),(0,b.x)().initData(),(0,i.o)().getMessage();</script><style>.app-layout[data-v-1d77f9a2]{display:flex;flex-direction:column;background:linear-gradient(135deg,rgba(59,130,246,0.05),rgba(37,99,235,0.08));font-family:"Microsoft YaHei",Arial,sans-serif;transition:all .5s ease;position:relative;overflow-x:hidden}.navigation-bar[data-v-1d77f9a2]{background:linear-gradient(135deg,rgba(59,130,246,0.12),rgba(37,99,235,0.15));border-bottom:1px solid rgba(147,197,253,.25);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);padding:8px 16px;position:sticky;top:0;z-index:1000;transition:all .5s ease;flex-shrink:0}.navigation-bar.autumn-nav[data-v-1d77f9a2]{background:linear-gradient(135deg,rgba(180,83,9,0.15),rgba(146,64,14,0.2));border-bottom:1px solid rgba(180,83,9,.3)}.nav-buttons[data-v-1d77f9a2]{display:flex;gap:6px;justify-content:center;flex-wrap:wrap}.nav-button[data-v-1d77f9a2]{display:flex;align-items:center;gap:5px;padding:8px 16px;background:hsla(0,0%,100%,.08);border:1px solid rgba(147,197,253,.25);border-radius:12px;color:#fff;font-size:11px;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(0.4,0,0.2,1);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);position:relative;overflow:hidden}.nav-button[data-v-1d77f9a2]::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(59,130,246,0.1),transparent);opacity:0;transition:opacity .3s ease}.nav-button[data-v-1d77f9a2]:hover{background:hsla(0,0%,100%,.12);transform:translateY(-2px);border-color:rgba(147,197,253,.4);box-shadow:0 4px 16px rgba(59,130,246,.15)}.nav-button[data-v-1d77f9a2]:hover::before{opacity:1}.nav-button.active[data-v-1d77f9a2]{background:rgba(59,130,246,.25);border-color:rgba(147,197,253,.5);box-shadow:0 2px 8px rgba(59,130,246,.2)}.nav-button.autumn-button[data-v-1d77f9a2]{border:1px solid rgba(180,83,9,.3)}.nav-button.autumn-button[data-v-1d77f9a2]::before{background:linear-gradient(135deg,rgba(180,83,9,0.1),transparent)}.nav-button.autumn-button[data-v-1d77f9a2]:hover{background:hsla(0,0%,100%,.12);border-color:rgba(180,83,9,.5);box-shadow:0 4px 16px rgba(180,83,9,.2)}.nav-button.autumn-button.active[data-v-1d77f9a2]{background:rgba(180,83,9,.25);border-color:rgba(180,83,9,.5);box-shadow:0 2px 8px rgba(180,83,9,.3)}.nav-button .nav-icon[data-v-1d77f9a2]{font-size:14px;filter:drop-shadow(0px 1px 2px rgba(0,0,0,0.3))}.nav-button .nav-text[data-v-1d77f9a2]{text-shadow:0 1px 2px rgba(0,0,0,.3);position:relative;z-index:1}.main-content[data-v-1d77f9a2]{flex:1;padding:16px;display:flex;justify-content:center;align-items:flex-start;min-height:0;position:relative;z-index:1}.options-panel[data-v-1d77f9a2]{width:90%;background:linear-gradient(135deg,rgba(59,130,246,0.12),rgba(37,99,235,0.15));border-radius:12px;box-shadow:0 -2px 12px rgba(59,130,246,.15);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid rgba(147,197,253,.25);transition:all .3s ease;overflow:hidden;margin:auto auto 16px}.options-panel.collapsed .options-wrapper[data-v-1d77f9a2]{max-height:0}.options-wrapper[data-v-1d77f9a2]{transition:max-height .3s ease}.options-header[data-v-1d77f9a2]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:linear-gradient(135deg,rgba(59,130,246,0.15),rgba(37,99,235,0.2));border-bottom:1px solid rgba(147,197,253,.3);cursor:pointer;transition:all .3s ease}.options-title[data-v-1d77f9a2]{font-weight:600;color:#fff;font-size:14px;text-shadow:0px 1px 2px rgba(0,0,0,.3)}.options-toggle[data-v-1d77f9a2]{font-size:12px;color:#e2e8f0;transition:color .3s ease;text-shadow:0 1px 2px rgba(0,0,0,.3)}.options-content[data-v-1d77f9a2]{padding:12px 16px}.option-item[data-v-1d77f9a2]{padding:10px 12px;margin:6px 0;background:hsla(0,0%,100%,.1);border:1px solid rgba(147,197,253,.2);border-radius:8px;cursor:pointer;font-size:13px;color:#fff;transition:all .3s ease;text-shadow:0px 1px 2px rgba(0,0,0,.3);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.option-item[data-v-1d77f9a2]:hover{background:hsla(0,0%,100%,.15);border-color:rgba(147,197,253,.4);transform:translateX(4px);box-shadow:0 2px 8px rgba(59,130,246,.2)}.option-item[data-v-1d77f9a2]:last-child{margin-bottom:0}.autumn-theme .options-panel[data-v-1d77f9a2]{background:linear-gradient(135deg,rgba(180,83,9,0.15),rgba(146,64,14,0.2));border:1px solid rgba(180,83,9,.3);box-shadow:0 -2px 12px rgba(180,83,9,.15)}.autumn-theme .options-toggle[data-v-1d77f9a2]{color:#fef3c7}.autumn-theme .options-header[data-v-1d77f9a2]{background:linear-gradient(135deg,rgba(180,83,9,0.2),rgba(146,64,14,0.25));border-bottom:1px solid rgba(180,83,9,.4)}.autumn-theme .options-title[data-v-1d77f9a2]{color:#fff;text-shadow:0px 1px 2px rgba(0,0,0,.3)}.autumn-theme .option-item[data-v-1d77f9a2]{background:rgba(253,230,138,.1);border:1px solid rgba(180,83,9,.3);color:#fff;text-shadow:0px 1px 2px rgba(0,0,0,.3)}.autumn-theme .option-item[data-v-1d77f9a2]:hover{background:rgba(253,230,138,.2);border-color:rgba(180,83,9,.5);box-shadow:0 2px 8px rgba(180,83,9,.3)}@media (max-width:999px){.options-panel[data-v-1d77f9a2]{width:92%;margin:0 auto 12px auto;border-radius:10px}.options-header[data-v-1d77f9a2]{padding:10px 14px}.options-content[data-v-1d77f9a2]{padding:10px 14px}.option-item[data-v-1d77f9a2]{padding:8px 10px;margin:4px 0;font-size:12px}}@media (max-width:480px){.options-panel[data-v-1d77f9a2]{width:95%;margin:0 auto 8px auto}}.autumn-leaves[data-v-1d77f9a2]{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:500}.leaf[data-v-1d77f9a2]{position:absolute;font-size:20px;opacity:.7;animation:fall-1d77f9a2 linear infinite;filter:drop-shadow(0 2px 4px rgba(0,0,0,0.2))}.leaf-1[data-v-1d77f9a2]{left:10%;animation-duration:8s;animation-delay:0s}.leaf-2[data-v-1d77f9a2]{left:30%;animation-duration:10s;animation-delay:2s}.leaf-3[data-v-1d77f9a2]{left:50%;animation-duration:12s;animation-delay:4s}.leaf-4[data-v-1d77f9a2]{left:70%;animation-duration:9s;animation-delay:1s}.leaf-5[data-v-1d77f9a2]{left:90%;animation-duration:11s;animation-delay:3s}.leaf-6[data-v-1d77f9a2]{left:20%;animation-duration:13s;animation-delay:5s}@keyframes fall-1d77f9a2{0%{transform:translateY(-50px) rotate(0deg);opacity:0}10%{opacity:.7}90%{opacity:.7}100%{transform:translateY(100vh) rotate(360deg);opacity:0}}@media (max-width:999px){.navigation-bar[data-v-1d77f9a2]{padding:6px 12px}.nav-buttons[data-v-1d77f9a2]{gap:6px}.nav-button[data-v-1d77f9a2]{padding:6px 12px;font-size:11px;border-radius:10px}.nav-icon[data-v-1d77f9a2]{font-size:12px}.main-content[data-v-1d77f9a2]{padding:12px}.leaf[data-v-1d77f9a2]{font-size:16px}}
.status-container[data-v-050dd72e]{background:linear-gradient(135deg,rgba(59,130,246,0.15),rgba(37,99,235,0.2));border-radius:18px;border:1px solid rgba(147,197,253,.4);box-shadow:0 12px 40px rgba(59,130,246,.15),0 0 0 1px hsla(0,0%,100%,.1) inset,0 4px 12px rgba(37,99,235,.15);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);padding:24px;min-width:400px;max-width:600px;width:100%;box-sizing:border-box}@media (max-width:768px){.status-container[data-v-050dd72e]{min-width:300px;max-width:100%;padding:16px;margin:0 12px}}.page-title[data-v-050dd72e]{color:#fff;font-size:20px;font-weight:700;text-align:center;margin:0 0 20px 0;text-shadow:0px 2px 4px rgba(0,0,0,.3)}.status-content[data-v-050dd72e]{display:flex;flex-direction:column;gap:16px}.status-item[data-v-050dd72e]{background:hsla(0,0%,100%,.08);border-radius:12px;padding:16px;border:1px solid rgba(147,197,253,.25);transition:all .3s cubic-bezier(0.4,0,0.2,1);position:relative;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.status-item[data-v-050dd72e]:hover{background:hsla(0,0%,100%,.12);transform:translateY(-2px);border-color:rgba(147,197,253,.4);box-shadow:0 6px 20px rgba(59,130,246,.2)}.status-label[data-v-050dd72e]{font-size:13px;font-weight:700;color:#fff;text-shadow:0px 1px 3px rgba(0,0,0,.3);min-width:45px;margin-bottom:8px}.progress-item[data-v-050dd72e]{display:flex;flex-direction:column;align-items:stretch;gap:8px}.progress-container[data-v-050dd72e]{display:flex;align-items:center;gap:8px;width:100%}.progress-bar[data-v-050dd72e]{flex:1;height:12px;background:hsla(0,0%,100%,.15);border-radius:6px;overflow:hidden;border:1px solid rgba(147,197,253,.3);position:relative}.progress-fill[data-v-050dd72e]{height:100%;border-radius:5px;transition:all .5s cubic-bezier(0.4,0,0.2,1);position:relative}.progress-fill.stage-calm[data-v-050dd72e]{background:linear-gradient(90deg,#10b981,#34d399);box-shadow:0 0 12px rgba(16,185,129,.4)}.progress-fill.stage-anxious[data-v-050dd72e]{background:linear-gradient(90deg,#f59e0b,#fbbf24);box-shadow:0 0 12px rgba(245,158,11,.4)}.progress-fill.stage-craving[data-v-050dd72e]{background:linear-gradient(90deg,#f97316,#fb923c);box-shadow:0 0 12px rgba(249,115,22,.4)}.progress-fill.stage-critical[data-v-050dd72e]{background:linear-gradient(90deg,#dc2626,#ef4444);box-shadow:0 0 12px rgba(220,38,38,.4)}.progress-fill.stage-breakdown[data-v-050dd72e]{background:linear-gradient(90deg,#7c2d12,#dc2626);box-shadow:0 0 16px rgba(220,38,38,.6);animation:pulse-danger-050dd72e 2s infinite}.progress-fill.stage-guilt[data-v-050dd72e]{background:linear-gradient(90deg,#6366f1,#818cf8);box-shadow:0 0 12px rgba(99,102,241,.4)}.progress-fill.stage-rationalization[data-v-050dd72e]{background:linear-gradient(90deg,#8b5cf6,#a78bfa);box-shadow:0 0 12px rgba(139,92,246,.4)}.progress-fill.stage-betrayal[data-v-050dd72e]{background:linear-gradient(90deg,#c026d3,#d946ef);box-shadow:0 0 12px rgba(192,38,211,.4)}.progress-fill.stage-new-balance[data-v-050dd72e]{background:linear-gradient(90deg,#86198f,#c026d3);box-shadow:0 0 16px rgba(192,38,211,.6);animation:pulse-corruption-050dd72e 2s infinite}.progress-fill[data-v-050dd72e]::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);animation:shimmer-050dd72e 2s infinite;border-radius:5px}.progress-text[data-v-050dd72e]{font-size:11px;font-weight:700;color:#fff;min-width:32px;text-align:center;background:rgba(0,0,0,.4);padding:6px 10px;border-radius:8px;border:1px solid hsla(0,0%,100%,.2);text-shadow:0px 1px 2px rgba(0,0,0,.5);display:flex;align-items:center;gap:4px;flex-wrap:wrap;justify-content:center}.reason-text[data-v-050dd72e]{font-size:.8em;font-weight:500;color:#fbbf24;opacity:.9;text-shadow:0px 1px 1px rgba(0,0,0,.5);overflow:hidden;text-overflow:ellipsis;transition:all .3s ease;position:relative;max-width:200px;padding:4px 8px;border-radius:4px;z-index:10;white-space:normal;word-break:break-word}.stage-indicator[data-v-050dd72e]{font-size:11px;font-weight:600;color:#f8fafc;text-align:center;padding:4px 8px;background:rgba(0,0,0,.3);border-radius:6px;border:1px solid hsla(0,0%,100%,.1);margin-top:4px;text-shadow:0px 1px 2px rgba(0,0,0,.3)}@keyframes shimmer-050dd72e{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}@keyframes pulse-danger-050dd72e{0%,100%{box-shadow:0 0 12px rgba(220,38,38,.4)}50%{box-shadow:0 0 20px rgba(220,38,38,.8)}}@keyframes pulse-corruption-050dd72e{0%,100%{box-shadow:0 0 12px rgba(192,38,211,.4)}50%{box-shadow:0 0 20px rgba(192,38,211,.8)}}@media (max-width:768px){.status-label[data-v-050dd72e]{font-size:12px}.progress-bar[data-v-050dd72e]{height:10px}.progress-text[data-v-050dd72e]{font-size:10px;min-width:28px;padding:4px 8px;flex-direction:column;gap:2px}.reason-text[data-v-050dd72e]{font-size:10px;max-width:60px;font-size:.8em}.stage-indicator[data-v-050dd72e]{font-size:10px;padding:3px 6px}}@media (max-width:480px){.progress-text[data-v-050dd72e]{flex-direction:column;gap:1px}.reason-text[data-v-050dd72e]{max-width:50px;font-size:.8em;line-height:1}.reason-text[data-v-050dd72e]:hover{max-width:120px}}
.world-info-container[data-v-22d0fc5e]{background:linear-gradient(135deg,rgba(59,130,246,0.15),rgba(37,99,235,0.2));border-radius:18px;border:1px solid rgba(147,197,253,.4);box-shadow:0 12px 40px rgba(59,130,246,.15),0 0 0 1px hsla(0,0%,100%,.1) inset,0 4px 12px rgba(37,99,235,.15);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);padding:24px;min-width:400px;max-width:600px;width:100%;box-sizing:border-box;font-family:"Microsoft YaHei",Arial,sans-serif}.page-title[data-v-22d0fc5e]{color:#fff;font-size:20px;font-weight:700;text-align:center;margin:0 0 20px 0;text-shadow:0px 2px 4px rgba(0,0,0,.3)}.info-content[data-v-22d0fc5e]{display:flex;flex-direction:column;gap:16px}.info-section[data-v-22d0fc5e]{background:hsla(0,0%,100%,.08);border-radius:12px;padding:16px;border:1px solid rgba(147,197,253,.25);transition:all .3s cubic-bezier(0.4,0,0.2,1);position:relative;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.info-section[data-v-22d0fc5e]:hover{background:hsla(0,0%,100%,.12);transform:translateY(-2px);border-color:rgba(147,197,253,.4);box-shadow:0 6px 20px rgba(59,130,246,.2)}.info-section[data-v-22d0fc5e]::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(59,130,246,0.08),transparent);border-radius:12px;opacity:0;transition:opacity .3s ease}.info-section[data-v-22d0fc5e]:hover::before{opacity:1}.info-item[data-v-22d0fc5e]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid rgba(147,197,253,.2);position:relative;z-index:1}.info-item[data-v-22d0fc5e]:last-child{border-bottom:none}.info-item:hover .info-label[data-v-22d0fc5e]{color:#bfdbfe;text-shadow:0 0 8px rgba(191,219,254,.5)}.info-item:hover .info-value[data-v-22d0fc5e]{color:#fff;text-shadow:0 0 8px hsla(0,0%,100%,.3)}.info-label[data-v-22d0fc5e]{font-size:13px;font-weight:700;color:#fff;text-shadow:0px 1px 3px rgba(0,0,0,.3);min-width:60px;transition:all .3s ease;letter-spacing:.5px}.info-value[data-v-22d0fc5e]{font-size:12px;color:#f8fafc;font-weight:600;text-align:right;flex:1;margin-left:16px;word-break:break-word;line-height:1.4;text-shadow:0px 1px 2px rgba(0,0,0,.2);transition:all .3s ease;background:rgba(0,0,0,.2);padding:6px 12px;border-radius:8px;border:1px solid rgba(147,197,253,.2)}.time-item .info-value[data-v-22d0fc5e]{background:linear-gradient(135deg,rgba(59,130,246,0.3),rgba(37,99,235,0.2));border-color:rgba(147,197,253,.4);font-weight:700;position:relative;overflow:hidden}.time-item .info-value[data-v-22d0fc5e]::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.15),transparent);animation:timeShimmer-22d0fc5e 3s infinite}.time-item .info-label[data-v-22d0fc5e]::before{content:"⏰";margin-right:6px;font-size:12px}.location-item .info-value[data-v-22d0fc5e]{background:linear-gradient(135deg,rgba(34,197,94,0.25),rgba(22,163,74,0.15));border-color:rgba(74,222,128,.4);border-left:3px solid rgba(74,222,128,.6)}.location-item .info-label[data-v-22d0fc5e]::before{content:"📍";margin-right:6px;font-size:12px}.location-item:hover .info-value[data-v-22d0fc5e]{box-shadow:0 0 12px rgba(34,197,94,.3);transform:translateX(2px)}.character-item .info-value[data-v-22d0fc5e]{background:linear-gradient(135deg,rgba(168,85,247,0.25),rgba(147,51,234,0.15));border-color:rgba(192,132,252,.4);position:relative}.character-item .info-label[data-v-22d0fc5e]::before{content:"👤";margin-right:6px;font-size:12px}.character-item:hover .info-value[data-v-22d0fc5e]{box-shadow:0 0 12px rgba(168,85,247,.3);background:linear-gradient(135deg,rgba(168,85,247,0.35),rgba(147,51,234,0.25))}.character-item .info-value[data-v-22d0fc5e]::after{content:"";position:absolute;top:50%;right:8px;width:4px;height:4px;background:rgba(192,132,252,.8);border-radius:50%;transform:translateY(-50%);opacity:0;transition:opacity .3s ease}.character-item:hover .info-value[data-v-22d0fc5e]::after{opacity:1;animation:pulse-22d0fc5e 1.5s infinite}@media (max-width:768px){.world-info-container[data-v-22d0fc5e]{min-width:300px;max-width:100%;padding:16px;margin:0 12px;border-radius:14px}.info-section[data-v-22d0fc5e]{padding:12px;border-radius:10px}.info-item[data-v-22d0fc5e]{padding:8px 0}.info-label[data-v-22d0fc5e]{font-size:12px;min-width:50px}.info-value[data-v-22d0fc5e]{font-size:11px;padding:4px 8px;margin-left:12px}.info-label[data-v-22d0fc5e]::before{margin-right:4px;font-size:11px}}@keyframes fadeIn-22d0fc5e{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes timeShimmer-22d0fc5e{0%{left:-100%}50%,100%{left:100%}}@keyframes pulse-22d0fc5e{0%,100%{transform:translateY(-50%) scale(1);opacity:.8}50%{transform:translateY(-50%) scale(1.2);opacity:1}}.world-info-container[data-v-22d0fc5e]{animation:fadeIn-22d0fc5e .5s ease-out}.info-item[data-v-22d0fc5e]{animation:fadeIn-22d0fc5e .6s ease-out}.info-item[data-v-22d0fc5e]:nth-child(1){animation-delay:.1s}.info-item[data-v-22d0fc5e]:nth-child(2){animation-delay:.2s}.info-item[data-v-22d0fc5e]:nth-child(3){animation-delay:.3s}
.diary-container[data-v-3e4b02f3]{background:linear-gradient(135deg,rgba(217,119,6,0.2),rgba(180,83,9,0.25),rgba(146,64,14,0.2));border-radius:18px;border:1px solid rgba(180,83,9,.5);box-shadow:0 12px 40px rgba(180,83,9,.2),0 0 0 1px hsla(0,0%,100%,.1) inset,0 4px 12px rgba(146,64,14,.15);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);padding:24px;min-width:400px;max-width:600px;width:100%;box-sizing:border-box;font-family:"Microsoft YaHei",Arial,sans-serif;position:relative;z-index:2;overflow:hidden}.header-row[data-v-3e4b02f3]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.page-title[data-v-3e4b02f3]{color:#fff;font-size:20px;font-weight:700;text-align:center;margin:0;text-shadow:0px 2px 4px rgba(146,64,14,.4)}.lock-control[data-v-3e4b02f3]{display:flex;flex-direction:column;align-items:center;gap:4px}.lock-hint[data-v-3e4b02f3]{color:#fbbf24;font-size:11px;text-shadow:0 1px 2px rgba(146,64,14,.3);white-space:nowrap}.lock-switch[data-v-3e4b02f3]{position:relative;display:inline-block;width:60px;height:34px;flex-shrink:0;cursor:pointer}.lock-switch input[data-v-3e4b02f3]{opacity:0;width:0;height:0}.slider[data-v-3e4b02f3]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.3);transition:.4s;border-radius:34px;border:1px solid rgba(180,83,9,.5)}.slider[data-v-3e4b02f3]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}input:checked+.slider[data-v-3e4b02f3]{background-color:#d97706}input:checked+.slider[data-v-3e4b02f3]:before{transform:translateX(26px)}.mood-section[data-v-3e4b02f3]{background:hsla(0,0%,100%,.08);border-radius:12px;padding:16px;margin-bottom:20px;border:1px solid rgba(180,83,9,.3);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.mood-header[data-v-3e4b02f3]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.mood-label[data-v-3e4b02f3]{color:#fbbf24;font-size:14px;font-weight:600;text-shadow:0px 1px 2px rgba(146,64,14,.3)}.mood-value[data-v-3e4b02f3]{color:#fff;font-size:18px;font-weight:700;text-shadow:0px 1px 3px rgba(0,0,0,.3)}.mood-bar[data-v-3e4b02f3]{width:100%;height:8px;background:rgba(0,0,0,.3);border-radius:4px;overflow:hidden;margin-bottom:8px;border:1px solid rgba(180,83,9,.2)}.mood-fill[data-v-3e4b02f3]{height:100%;border-radius:4px;transition:all .5s ease-in-out;position:relative;overflow:hidden}.mood-fill[data-v-3e4b02f3]::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.4),transparent);animation:shimmer-3e4b02f3 2s infinite}.mood-fill.mood-excellent[data-v-3e4b02f3]{background:linear-gradient(90deg,#edb6b2,rgba(255,177,177,0.9))}.mood-fill.mood-good[data-v-3e4b02f3]{background:linear-gradient(90deg,#059669,#10b981)}.mood-fill.mood-normal[data-v-3e4b02f3]{background:linear-gradient(90deg,#d97706,#f59e0b)}.mood-fill.mood-poor[data-v-3e4b02f3]{background:linear-gradient(90deg,#ea580c,#f97316)}.mood-fill.mood-bad[data-v-3e4b02f3]{background:linear-gradient(90deg,#dc2626,#ef4444)}.mood-info[data-v-3e4b02f3]{display:flex;justify-content:space-between;align-items:center;font-size:12px}.mood-reason[data-v-3e4b02f3]{color:#f8fafc;opacity:.8;max-width:70%;line-height:1.4;word-break:break-word;white-space:normal}.mood-form[data-v-3e4b02f3]{color:#fbbf24;font-weight:600;background:rgba(180,83,9,.3);padding:2px 8px;border-radius:12px;border:1px solid rgba(251,191,36,.5)}.diary-content[data-v-3e4b02f3]{display:flex;flex-direction:column;gap:16px;position:relative;z-index:3}.diary-entry[data-v-3e4b02f3]{background:hsla(0,0%,100%,.08);border-radius:12px;padding:20px;border:1px solid rgba(180,83,9,.3);transition:all .3s cubic-bezier(0.4,0,0.2,1);position:relative;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.diary-entry[data-v-3e4b02f3]:hover{background:hsla(0,0%,100%,.12);transform:translateY(-2px);border-color:rgba(180,83,9,.5);box-shadow:0 6px 20px rgba(180,83,9,.25)}.diary-entry[data-v-3e4b02f3]::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(180,83,9,0.1),transparent);border-radius:12px;opacity:0;transition:opacity .3s ease}.diary-entry[data-v-3e4b02f3]:hover::before{opacity:1}.entry-date[data-v-3e4b02f3]{color:#fff;font-size:16px;font-weight:700;margin:0 0 12px 0;text-shadow:0px 1px 3px rgba(0,0,0,.3);position:relative;z-index:1;letter-spacing:.5px;display:flex;align-items:center}.entry-date[data-v-3e4b02f3]::before{content:"";display:inline-block;width:4px;height:16px;background:linear-gradient(135deg,#d97706,#b45309);border-radius:2px;margin-right:8px;box-shadow:0 0 8px rgba(180,83,9,.4)}.entry-text[data-v-3e4b02f3]{color:#f8fafc;font-size:14px;line-height:1.6;margin:0;text-shadow:0px 1px 2px rgba(0,0,0,.2);position:relative;z-index:1;font-weight:500;background:rgba(0,0,0,.2);padding:12px;border-radius:8px;border:1px solid rgba(180,83,9,.2);transition:all .3s ease;white-space:pre-wrap;word-wrap:break-word}.diary-entry:hover .entry-text[data-v-3e4b02f3]{background:rgba(0,0,0,.3);border-color:rgba(180,83,9,.3);color:#fff}.no-diary[data-v-3e4b02f3]{text-align:center;padding:40px 20px;color:#fbbf24;font-style:italic;text-shadow:0px 1px 2px rgba(146,64,14,.3);position:relative;z-index:3}.falling-leaves[data-v-3e4b02f3]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}.leaf[data-v-3e4b02f3]{position:absolute;font-size:18px;opacity:0;animation:fall-3e4b02f3 linear infinite;filter:drop-shadow(0 2px 4px rgba(146,64,14,0.3));z-index:1;animation-fill-mode:forwards}.leaf-1[data-v-3e4b02f3]{left:10%;animation-duration:8s;animation-delay:0s}.leaf-2[data-v-3e4b02f3]{left:25%;animation-duration:10s;animation-delay:2s}.leaf-3[data-v-3e4b02f3]{left:40%;animation-duration:12s;animation-delay:4s}.leaf-4[data-v-3e4b02f3]{left:55%;animation-duration:9s;animation-delay:1s}.leaf-5[data-v-3e4b02f3]{left:70%;animation-duration:11s;animation-delay:3s}.leaf-6[data-v-3e4b02f3]{left:85%;animation-duration:13s;animation-delay:5s}.leaf-7[data-v-3e4b02f3]{left:20%;animation-duration:7s;animation-delay:6s}.leaf-8[data-v-3e4b02f3]{left:65%;animation-duration:14s;animation-delay:7s}@keyframes fall-3e4b02f3{0%{transform:translateY(-50px) translateX(0) rotate(0deg);opacity:0}10%{opacity:.8}90%{opacity:.6}100%{transform:translateY(calc(100% + 50px)) translateX(20px) rotate(360deg);opacity:0}}@keyframes shimmer-3e4b02f3{0%{left:-100%}100%{left:100%}}@media (max-width:768px){.diary-container[data-v-3e4b02f3]{min-width:300px;max-width:100%;padding:16px;margin:0 12px;border-radius:14px}.header-row[data-v-3e4b02f3]{flex-direction:column;gap:12px;margin-bottom:16px}.page-title[data-v-3e4b02f3]{font-size:18px}.lock-switch[data-v-3e4b02f3]{width:50px;height:28px}.lock-control[data-v-3e4b02f3]{flex-direction:row;gap:6px}.lock-hint[data-v-3e4b02f3]{font-size:10px}.slider[data-v-3e4b02f3]:before{height:20px;width:20px;left:4px;bottom:4px}input:checked+.slider[data-v-3e4b02f3]:before{transform:translateX(22px)}.mood-section[data-v-3e4b02f3]{padding:12px;margin-bottom:16px}.mood-value[data-v-3e4b02f3]{font-size:16px}.mood-info[data-v-3e4b02f3]{flex-direction:column;align-items:flex-start;gap:4px}.mood-reason[data-v-3e4b02f3]{max-width:100%}.diary-entry[data-v-3e4b02f3]{padding:16px;border-radius:10px}.entry-date[data-v-3e4b02f3]{font-size:15px;margin-bottom:10px}.entry-date[data-v-3e4b02f3]::before{height:14px;margin-right:6px}.entry-text[data-v-3e4b02f3]{font-size:13px;padding:10px}.leaf[data-v-3e4b02f3]{font-size:16px}}@keyframes fadeInUp-3e4b02f3{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.diary-container[data-v-3e4b02f3]{animation:fadeInUp-3e4b02f3 .5s ease-out}.diary-entry[data-v-3e4b02f3]{animation:fadeInUp-3e4b02f3 .6s ease-out}.mood-section[data-v-3e4b02f3]{animation:fadeInUp-3e4b02f3 .4s ease-out}
.character-status-layout[data-v-6596af42]{padding:20px;background:linear-gradient(135deg,rgba(59,130,246,0.05),rgba(37,99,235,0.08));position:relative;overflow:hidden;font-family:"Microsoft YaHei",Arial,sans-serif;box-sizing:border-box;width:90%}.stars-background[data-v-6596af42]{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0}.star[data-v-6596af42]{position:absolute;width:2px;height:2px;background:hsla(0,0%,100%,.8);border-radius:50%;animation:twinkle-6596af42 linear infinite;box-shadow:0 0 4px 1px hsla(0,0%,100%,.5)}@keyframes twinkle-6596af42{0%,100%{opacity:.3;transform:scale(0.8)}50%{opacity:1;transform:scale(1.2)}}.character-switcher[data-v-6596af42]{display:flex;justify-content:center;gap:12px;margin-bottom:24px;position:relative;z-index:2;flex-wrap:wrap}.switch-button[data-v-6596af42]{display:flex;align-items:center;gap:8px;padding:10px 16px;background:linear-gradient(135deg,rgba(59,130,246,0.12),rgba(37,99,235,0.15));border:1px solid rgba(147,197,253,.25);border-radius:12px;color:#fff;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);position:relative;overflow:hidden}.switch-button[data-v-6596af42]::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,rgba(59,130,246,0.1),transparent);opacity:0;transition:opacity .3s ease}.switch-button[data-v-6596af42]:hover{background:hsla(0,0%,100%,.12);transform:translateY(-2px);border-color:rgba(147,197,253,.4);box-shadow:0 4px 16px rgba(59,130,246,.15)}.switch-button[data-v-6596af42]:hover::before{opacity:1}.switch-button.active[data-v-6596af42]{background:rgba(59,130,246,.25);border-color:rgba(147,197,253,.5);box-shadow:0 2px 8px rgba(59,130,246,.2);transform:translateY(-2px)}.switch-button .button-icon[data-v-6596af42]{font-size:16px;filter:drop-shadow(0px 1px 2px rgba(0,0,0,0.3))}.switch-button .button-text[data-v-6596af42]{text-shadow:0px 1px 2px rgba(0,0,0,.3);position:relative;z-index:1}.character-cards-container[data-v-6596af42]{position:relative;z-index:1;width:100%;margin:0 auto;min-height:500px}.character-card[data-v-6596af42]{background:linear-gradient(135deg,rgba(59,130,246,0.12),rgba(37,99,235,0.15));border-radius:16px;border:1px solid rgba(147,197,253,.25);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);box-shadow:0 8px 32px rgba(59,130,246,.15);overflow:hidden;transition:all .4s cubic-bezier(0.4,0,0.2,1);opacity:0;transform:translateY(20px);pointer-events:none;position:absolute;top:0;left:0;width:100%;box-sizing:border-box}.character-card.active[data-v-6596af42]{opacity:1;transform:translateY(0);pointer-events:all;position:relative}.character-card[data-v-6596af42]:hover{transform:translateY(-5px);box-shadow:0 12px 40px rgba(59,130,246,.25);border-color:rgba(147,197,253,.4)}.card-header[data-v-6596af42]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:linear-gradient(135deg,rgba(59,130,246,0.15),rgba(37,99,235,0.2));border-bottom:1px solid rgba(147,197,253,.3)}.character-name[data-v-6596af42]{margin:0;font-size:20px;font-weight:600;color:#fff;text-shadow:0px 1px 2px rgba(0,0,0,.3)}.character-icon[data-v-6596af42]{font-size:28px;filter:drop-shadow(0px 2px 4px rgba(0,0,0,0.3))}.status-section[data-v-6596af42]{padding:18px 24px;border-bottom:1px solid rgba(147,197,253,.15)}.status-section[data-v-6596af42]:last-of-type{border-bottom:none}.clothing-section[data-v-6596af42]{padding:0}.clothing-section .section-header[data-v-6596af42]{display:flex;justify-content:space-between;align-items:center;padding:18px 24px;cursor:pointer;transition:all .3s ease}.clothing-section .section-header[data-v-6596af42]:hover{background:hsla(0,0%,100%,.05)}.clothing-section .expand-icon[data-v-6596af42]{transition:transform .3s ease;color:rgba(147,197,253,.8);font-size:12px}.clothing-section .expand-icon.expanded[data-v-6596af42]{transform:rotate(180deg)}.clothing-section .clothing-content[data-v-6596af42]{max-height:0;overflow:hidden;transition:max-height .3s ease}.clothing-section .clothing-content.expanded[data-v-6596af42]{max-height:600px}.clothing-section .clothing-grid[data-v-6596af42]{display:grid;grid-template-columns:1fr;gap:10px;padding:0 24px 18px 24px}.section-title[data-v-6596af42]{margin:0;font-size:16px;font-weight:600;padding-bottom:5px;color:#e2e8f0;text-shadow:0px 1px 2px rgba(0,0,0,.3);display:flex;align-items:center}.section-title[data-v-6596af42]::before{content:"✦";margin-right:8px;color:rgba(147,197,253,.8);font-size:14px}.clothing-item[data-v-6596af42],.body-status-item[data-v-6596af42]{display:flex;justify-content:space-between;padding:10px 14px;background:hsla(0,0%,100%,.08);border-radius:8px;border:1px solid rgba(147,197,253,.15);transition:all .2s ease}.clothing-item[data-v-6596af42]:hover,.body-status-item[data-v-6596af42]:hover{background:hsla(0,0%,100%,.12);transform:translateX(4px);border-color:rgba(147,197,253,.3)}.clothing-type[data-v-6596af42],.body-part[data-v-6596af42]{font-size:14px;color:#cbd5e1;font-weight:500}.clothing-value[data-v-6596af42],.body-value[data-v-6596af42]{font-size:14px;color:#fff;font-weight:500;text-shadow:0px 1px 2px rgba(0,0,0,.3)}.body-status-grid[data-v-6596af42]{display:grid;grid-template-columns:1fr;gap:10px}.thoughts-content[data-v-6596af42]{padding:14px;background:hsla(0,0%,100%,.08);border-radius:8px;border:1px solid rgba(147,197,253,.15);font-size:14px;color:#fff;line-height:1.5;text-shadow:0px 1px 2px rgba(0,0,0,.3);min-height:80px;display:flex;align-items:center;justify-content:center;text-align:center}@media (max-width:768px){.character-status-layout[data-v-6596af42]{padding:16px}.character-switcher[data-v-6596af42]{gap:8px;margin-bottom:20px}.switch-button[data-v-6596af42]{padding:8px 14px;font-size:13px}.switch-button .button-icon[data-v-6596af42]{font-size:14px}.character-cards-container[data-v-6596af42]{width:95%}.character-card[data-v-6596af42]{border-radius:14px}.card-header[data-v-6596af42]{padding:16px 20px}.character-name[data-v-6596af42]{font-size:18px}.character-icon[data-v-6596af42]{font-size:24px}.status-section[data-v-6596af42]{padding:16px 20px}.clothing-section .section-header[data-v-6596af42]{padding:16px 20px}.clothing-section .clothing-grid[data-v-6596af42]{padding:0 20px 16px 20px}}@media (max-width:480px){.character-status-layout[data-v-6596af42]{padding:12px}.character-switcher[data-v-6596af42]{gap:6px;margin-bottom:16px}.switch-button[data-v-6596af42]{padding:6px 12px;font-size:12px;border-radius:10px}.switch-button .button-icon[data-v-6596af42]{font-size:12px}.character-cards-container[data-v-6596af42]{width:98%}.character-card[data-v-6596af42]{border-radius:12px}.card-header[data-v-6596af42]{padding:14px 16px}.character-name[data-v-6596af42]{font-size:16px}.character-icon[data-v-6596af42]{font-size:20px}.status-section[data-v-6596af42]{padding:14px 16px}.section-title[data-v-6596af42]{font-size:15px}.clothing-section .section-header[data-v-6596af42]{padding:14px 16px}.clothing-section .clothing-grid[data-v-6596af42]{padding:0 16px 14px 16px}.clothing-item[data-v-6596af42],.body-status-item[data-v-6596af42]{padding:8px 12px}.clothing-type[data-v-6596af42],.body-part[data-v-6596af42],.clothing-value[data-v-6596af42],.body-value[data-v-6596af42]{font-size:13px}.thoughts-content[data-v-6596af42]{font-size:13px;padding:12px;min-height:70px}}
</style></head><body><div id="app"></div></body>